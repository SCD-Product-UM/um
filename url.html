<!DOCTYPE HTML>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
</head>

<body>
    <div style="text-align: center">
        loading...
    </div>
    <script>
        //http://www.tcl-move.com/um/url.html?project=HH41&custom=KR&lang=en
        function GetQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]).replace(/(^\s*)|(\s*$)/g, "");
            return null;
        };
        var href = window.location.href;
        var project = GetQueryString("project")
        var custom = GetQueryString("custom")
        var id = GetQueryString("id")
        var lang = GetQueryString("lang") || 'en'
        if (lang == 'en_uk') {
            lang = 'en'
        }
        if (lang == 'sp' || lang == 'sp_latam') {
            lang = 'es'
        }

        var currentGenericUmList_HH70 = [
            "de", "en", "es", "fr",
            "hr", "it", "pl"
        ];
        var currentGenericUmList_HH41 = [
            "ar", "bg", "de", "en",
            "fr", "hr", "it", "mk",
            "sl", "es", "sr"
        ];
        var currentGenericUmList_HH40 = [
            "de", "en", "fr", "it",
            "es", "tr"
        ]
        switch (project) {
            case null:
                alert("Error:project can not be null")
                break;
            case "HH40":
                switch (custom) {
                    case "___KR":
                        //custom
                        break;
                    default:
                        if (!contains(currentGenericUmList_HH40, lang)) {
                            lang = 'en'
                        }
                        href = href.replace("url.html", project + "/Generic/USER_Manual_" + lang + ".pdf")
                }
                break;
            case "HH41":
                switch (custom) {
                    case "KR":
                        href = href.replace("url.html", project + "/flybox/flybox_um_" + lang + ".pdf")
                        break;
                    default:
                        if (!contains(currentGenericUmList_HH41, lang)) {
                            lang = 'en'
                        }
                        href = href.replace("url.html", project + "/Generic/USER_Manual_" + lang + ".pdf")
                }
                break;

            case "HH70":
                switch (custom) {
                    case "___KR":
                        //custom
                        break;
                    default:
                        if (!contains(currentGenericUmList_HH70, lang)) {
                            lang = 'en'
                        }
                        href = href.replace("url.html", project + "/Generic/USER_Manual_" + lang + ".pdf")
                }
                break;
            default:
                alert("Error:project not exist")
        }
        window.location.href = href
        /*
        if (project == null) {
            alert("Error:project can not be null")
        } else {
            if (project == "HH41" && custom == "KR") {
                href = href.replace("url.html", project + "/flybox/flybox_um_" + lang + ".pdf")
            } else {
                if (lang != 'en') {
                    lang = 'en'
                }
                href = href.replace("url.html", project + "/" + custom + "/USER_Manual_" + lang + ".pdf")
            }
            window.location.href = href
        }*/

        function contains(arr, obj) {
            var i = arr.length;
            while (i--) {
                if (arr[i] === obj) {
                    return true;
                }
            }
            return false;
        }
    </script>
</body>

</html>